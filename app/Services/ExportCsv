<?php

namespace App\Services;

use \InvalidArgumentException;
use Carbon\Carbon;

abstract class ExportCsv extends ExportService
{

    protected $from_date;
    protected $to_date;

    /**
     * Checks if the dates form a valid date interval.
     * @param from_date the start date
     * @param to_date the end date
     * @throws InvalidArgumentException
     */
    protected static function checkDateInterval($from_date, $to_date)
    {
        if($from_date === null || $to_date === null){
            throw new InvalidArgumentException("Date should not be null.");
        }

        if($from_date > $to_date){
            throw new InvalidArgumentException("Invalid date interval.");
        }

        if($to_date > Carbon::now()){
            throw new InvalidArgumentException("Date should not be in the future.");
        }
    }
}